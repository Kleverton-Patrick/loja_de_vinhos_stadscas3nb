
CREATE TABLE USUARIO_ADMIN(DSC_EMAIL_ADMIN VARCHAR(40) PRIMARY KEY,
                           DSC_SENHA_ADMIN VARCHAR(20)
);




CREATE TABLE PAIS(NUM_SEQUENCIA INT PRIMARY KEY AUTO_INCREMENT,
                  DSC_PAIS_PRODUTOR VARCHAR(40)
);

INSERT INTO PAIS (DSC_PAIS_PRODUTOR) VALUES
('Italia'),
('Espanha'),
('Chile'),
('Portugal'),
('Argentina');



CREATE TABLE TIPO_VINHO(NUM_SEQUENCIA INT PRIMARY KEY AUTO_INCREMENT,
                        DSC_TIPO_VINHO VARCHAR(20)
);

INSERT INTO TIPO_VINHO (DSC_TIPO_VINHO) VALUES
('Branco'),
('Tinto'),
('Rosé'),
('Espumante');




CREATE TABLE TIPO_UVA(NUM_SEQUENCIA INT PRIMARY KEY AUTO_INCREMENT,
                      DSC_TIPO_UVA VARCHAR(20)
);

INSERT INTO TIPO_UVA (DSC_TIPO_UVA) VALUES
('Chardonay'),
('Carenet Sauvignon'),
('Merlot'),
('Syrah'),
('Pinot noir'),
('Tempranillo'),
('Castelão'),
('Sangiovese');





CREATE TABLE HARMONIZACAO(NUM_SEQUENCIA INT PRIMARY KEY AUTO_INCREMENT,
                          DSC_HARMONIZACAO VARCHAR(40)
);

INSERT INTO HARMONIZACAO (DSC_HARMONIZACAO) VALUES
('Carne vermelha'),
('Frutos do mar'),
('Queijos'),
('Sobremesa');





CREATE TABLE VINHO(NUM_SEQUENCIA INT PRIMARY KEY AUTO_INCREMENT,
                   DSC_NOME_VINHO VARCHAR(40),
                   VLR_VENDA DECIMAL(9,2),
                   QTD_ESTOQUE SMALLINT,
                   FK_NUM_SEQ_PAIS INT NOT NULL,
                   FOREIGN KEY(FK_NUM_SEQ_PAIS) REFERENCES PAIS(NUM_SEQUENCIA),
                   FK_NUM_SEQ_TIPO_UVA INT NOT NULL,
                   FOREIGN KEY(FK_NUM_SEQ_TIPO_UVA) REFERENCES TIPO_UVA(NUM_SEQUENCIA),
		   FK_NUM_SEQ_TIPO_VINHO INT NOT NULL,
                   FOREIGN KEY(FK_NUM_SEQ_TIPO_VINHO) REFERENCES TIPO_VINHO(NUM_SEQUENCIA),
                   FK_NUM_SEQ_HARMONIZACAO INT NOT NULL,
                   FOREIGN KEY(FK_NUM_SEQ_HARMONIZACAO) REFERENCES HARMONIZACAO(NUM_SEQUENCIA),
		   DESCRICAO VARCHAR(255),
		   IMAGEM VARCHAR(255)
);



INSERT INTO VINHO (DSC_NOME_VINHO, VLR_VENDA, QTD_ESTOQUE,  FK_NUM_SEQ_PAIS, FK_NUM_SEQ_TIPO_UVA, FK_NUM_SEQ_TIPO_VINHO, FK_NUM_SEQ_HARMONIZACAO, DESCRICAO, IMAGEM) values 
('Santa carolina', 25.90 ,  20, 3, 3, 2 , 1,'Vinho santa carolina safra 2023' ,'/img/santaCarolina.jpg'),
('Santa carolina Branco', 33.75 ,30 , 3, 2, 2, 2,'Vinho Santa Carolina Branco safra 2013' ,'/img/santaCarolinaBranco.jpg'),
('Pata negra', 104.50 , 30, 2, 6, 2, 1,'Vinho pata negra safra 2018','/img/pataNegra.jpg'),
('DV catena', 89.99 , 12, 5, 1, 1, 2,'Vinho DV Catena safra 2019','/img/dvCatena.jpg'),
('Virrey Loreto', 55.00 , 30, 5, 4, 2, 3,'Vinho Virrey Loreto safra 2015','/img/virreyLoreto.jpg'),
('Julia florista', 35.50 , 30, 4, 7, 2, 1,'Vinho Julia florista safra 2022','/img/juliaFlorista.jpg'),
('Fonte Regia Chianti', 60.50 , 25, 1, 8, 2, 1,'Vinho Fonte Regia Chianti safra 2019','/img/fonteRegia.jpg');




CREATE TABLE CLIENTE(NUM_CPF VARCHAR(14) PRIMARY KEY,
                     DSC_NOME_CLIENTE VARCHAR(60),
					 NUM_TELEFONE VARCHAR(15),
					 DSC_EMAIL VARCHAR(40),
					 DSC_SENHA VARCHAR(20)
);



CREATE TABLE COMPRA(NUM_SEQUENCIA INT PRIMARY KEY AUTO_INCREMENT, 
                    DTA_OPERACAO DATETIME, 
                    VLR_TOTAL_VENDA DECIMAL(11,2), 
                    FK_NUM_CPF VARCHAR(14), 
                    FOREIGN KEY(FK_NUM_CPF) REFERENCES CLIENTE(NUM_CPF) 
);



CREATE TABLE ITEM_COMPRA(NUM_SEQUENCIA INT PRIMARY KEY AUTO_INCREMENT,
                         DSC_NOME_VINHO VARCHAR(40),
                         DSC_PAIS_PRODUTOR VARCHAR(40),
                         DSC_TIPO_VINHO VARCHAR(20),
                         DSC_TIPO_UVA VARCHAR(20),
                         DSC_HARMONIZACAO VARCHAR(40),
                         QTD_VENDIDA_PRODUTO SMALLINT,
                         VLR_VENDIDO_PPRODUTO DECIMAL(9,2),
                         FK_NUM_SEQ_VINHO INT NOT NULL,
                         FOREIGN KEY(FK_NUM_SEQ_VINHO) REFERENCES VINHO(NUM_SEQUENCIA),
                         FK_NUM_SEQ_COMPRA INT NOT NULL,
                         FOREIGN KEY(FK_NUM_SEQ_COMPRA) REFERENCES COMPRA(NUM_SEQUENCIA)
);

CREATE TABLE DADOS_ENTREGA(NUM_SEQUENCIA INT PRIMARY KEY AUTO_INCREMENT, 
                           DSC_NOME_CLIENTE VARCHAR(60), 
                           NUM_CARTAO_CREDITO VARCHAR(16), 
                           COD_CEP VARCHAR(9), 
                           DSC_ENDERECO VARCHAR(100), 
                           NUM_ENDERECO INT, 
                           DSC_COMPL_ENDERECO VARCHAR(80), 
                           DSC_BAIRRO VARCHAR(40), 
                           DSC_CIDADE VARCHAR(40), 
                           DSC_ESTADO VARCHAR(40), 
                           FK_NUM_SEQ_COMPRA INT NOT NULL,
                           FOREIGN KEY(FK_NUM_SEQ_COMPRA) REFERENCES COMPRA(NUM_SEQUENCIA)
);


CREATE TABLE CARRINHO(ID CHAR(10),
		      DSC_NOME_VINHO VARCHAR(40) 
      		      VLR_VENDA DECIMAL(9,2),
   		      QTD SMALLINT
);

CREATE TABLE CARRINHO(NUM_CPF VARCHAR(14) PRIMARY KEY,
                      QTD_TOTAL SMALLINT,
                      VLR_TOTAL DECIMAL(11,2)
);

INSERT INTO CARRINHO(NUM_CPF, QTD_TOTAL, VLR_TOTAL)
     VALUES ('111.111.111-11',5,280.00),

CREATE TABLE ITEM_CARRINHO(NUM_SEQUENCIA INT PRIMARY KEY AUTO_INCREMENT,
                           NUM_SEQ_VINHO INT,
                           QTD_PRODUTO SMALLINT,
                           VLR_PRODUTO DECIMAL(9,2),
                           FK_NUM_CPF VARCHAR(14),
                           FOREIGN KEY(FK_NUM_CPF) REFERENCES CARRINHO(NUM_CPF)
);

INSERT INTO ITEM_CARRINHO(NUM_SEQ_VINHO, QTD_PRODUTO, VLR_PRODUTO, FK_NUM_CPF)
     VALUES (4,3,60.00,'111.111.111-11'),
            (5,2,50.00,'111.111.111-11');
